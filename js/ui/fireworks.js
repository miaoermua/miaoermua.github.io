function P(a={numberOfParticules:20,orbitRadius:{min:50,max:100},circleRadius:{min:10,max:20},diffuseRadius:{min:50,max:100},animeDuration:{min:900,max:1500}}){let u=0,l=0,s=["102, 167, 221","62, 131, 225","33, 78, 194"];window.CONFIG.fireworks.colors&&(s=window.CONFIG.fireworks.colors);let o=document.querySelector(".fireworks"),t=o.getContext("2d");function c(e){e.width=window.innerWidth,e.height=window.innerHeight,e.style.width=`${window.innerWidth}px`,e.style.height=`${window.innerHeight}px`}function w(e){u=e.clientX||(e.touches[0]?e.touches[0].clientX:e.changedTouches[0].clientX),l=e.clientY||(e.touches[0]?e.touches[0].clientY:e.changedTouches[0].clientY)}function h(e){let i=window.anime.random(0,360)*Math.PI/180,n=window.anime.random(a.diffuseRadius.min,a.diffuseRadius.max),d=[-1,1][window.anime.random(0,1)]*n;return{x:e.x+d*Math.cos(i),y:e.y+d*Math.sin(i)}}function f(e,i){let n={x:e,y:i,color:`rgba(${s[window.anime.random(0,s.length-1)]},${window.anime.random(.2,.8)})`,radius:window.anime.random(a.circleRadius.min,a.circleRadius.max),endPos:null,draw(){}};return n.endPos=h(n),n.draw=function(){t.beginPath(),t.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),t.fillStyle=n.color,t.fill()},n}function p(e,i){let n={x:e,y:i,color:"#000",radius:.1,alpha:.5,lineWidth:6,draw(){}};return n.draw=function(){t.globalAlpha=n.alpha,t.beginPath(),t.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),t.lineWidth=n.lineWidth,t.strokeStyle=n.color,t.stroke(),t.globalAlpha=1},n}function m(e){for(let i=0;i<e.animatables.length;i++)e.animatables[i].target.draw()}function x(e,i){let n=p(e,i),d=[];for(let r=0;r<a.numberOfParticules;r++)d.push(f(e,i));window.anime.timeline().add({targets:d,x(r){return r.endPos.x},y(r){return r.endPos.y},radius:.1,duration:window.anime.random(a.animeDuration.min,a.animeDuration.max),easing:"easeOutExpo",update:m}).add({targets:n,radius:window.anime.random(a.orbitRadius.min,a.orbitRadius.max),lineWidth:0,alpha:{value:0,easing:"linear",duration:window.anime.random(600,800)},duration:window.anime.random(1200,1800),easing:"easeOutExpo",update:m},0)}let b=window.anime({duration:1/0,update:()=>{t.clearRect(0,0,o.width,o.height)}});document.addEventListener("mousedown",e=>{b.play(),w(e),x(u,l)},!1),c(o),window.addEventListener("resize",()=>{c(o)},!1)}document.addEventListener("DOMContentLoaded",()=>{P()});
